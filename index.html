<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Tetris Game</title>
		<style>
			body { background: #F7F7F7; }
			#board {
				margin: 0 auto;
				display: block;
				border: 2px solid black;
				border-bottom: 5px solid green;
				background: white;
			}
			#lines {
				display: block;
				width: 240px;
				margin: 0 auto;
				margin-top: 2em;
				color: #444;
				font-size: 1.5em;
			}
			h1 {
			  text-align: center;
			}
		</style>
	</head>
	<body>
		<h1 id="title">Jeu Tétris</h1>
		<span id="lines">Lines: 0</span>
		<canvas id="board">
		</canvas>
        
        <div id="stats">
            <h2>Binomiale</h2>
            <ul>
                <li>Chance d'obtenir I : <span class="I_chance"></span></li>
                <li>Chance d'obtenir J : <span class="J_chance"></span></li>
                <li>Chance d'obtenir L : <span class="L_chance"></span></li>
                <li>Chance d'obtenir O : <span class="O_chance"></span></li>
                <li>Chance d'obtenir S : <span class="S_chance"></span></li>
                <li>Chance d'obtenir T : <span class="T_chance"></span></li>
                <li>Chance d'obtenir Z : <span class="Z_chance"></span></li>
            </ul>
            <div>Paramètre : <span class="binomialeParameterValue"></span></div>
            <input id="binomialeInput" type="range" min="1" max="10" step="1">
        </div>
		<script src="tetrominoes.js"></script>
		<script src="tetris.js"></script>


		<script type="text/javascript">
			
			function bernoulli(p) {
				var t = Math.random();
				if (t < p){
					// succes
					return true;
				}
				// echec
				return false;
			}

			function bernoulliApplication(p){
				if (bernoulli(p) == true){
					document.getElementById("title").style.color = "black";
					document.body.style.backgroundColor = "white";
				}
				else {
					document.getElementById("title").style.color = "white";
					document.body.style.backgroundColor = "grey";
				}
			}
			//console.log("Bernoulli");
			//console.log(bernoulli(0.5));

			// Nombre de combinaisons de n objets pris k à k
			// On ne le fait pas en récursif car c'est moins rapide
			function combin(n, k){
				if (k > n/2){
					k = n - k;
				}
				x = 1;
				y = 1;
				i = n-k+1
				while (i <= n) {
				  x = ((x*i)/y);
				  y += 1;
				  i += 1;
				}
				return x;
			}

			// Probabilité d'avoir k réussites dans un échantillon de taille n, sachant qu'il y en a g dans la population de taille t
			function hypergeometrique(k, n, g, t){
				return combin(g,k)*combin((t-g),(n-k))/combin(t,n);
			}


			bernoulliApplication(0.5);

			console.log("Combin");
			console.log(combin(50,20));
			console.log("------");
			console.log("Hypergeometrique");
			console.log(hypergeometrique(3,5,13,52));
			//console.log(hypergeometrique(1,3,5,15));
			console.log("------");

		</script>
	</body>
</html>
